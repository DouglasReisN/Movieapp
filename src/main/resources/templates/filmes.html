<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Filmes Cadastrados</title>

        <link rel="stylesheet" href="/styles.css" />
        <script src="/jquery-3.7.1.js"></script>
        <script src="/theme.js"></script>
    </head>

    <body>
        <!-- Botão alternar tema com classe secundária -->
        <button id="botaoAlternarTema" class="botao-secundario" onclick="toggleTheme()">Modo Escuro</button>

        <div class="container">
            <h1>Filmes Cadastrados</h1>

            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Título</th>
                            <th>Gênero</th>
                            <th>Ano de Lançamento</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="filme : ${filmes}">
                            <td th:text="${filme.id}">1</td>
                            <td th:text="${filme.titulo}">Título</td>
                            <td th:text="${filme.genero}">Gênero</td>
                            <td th:text="${filme.anoLancamento}">Ano</td>
                            <td>
                                <!-- Usando o novo mapeamento /filmes/{id} -->
                                <a th:href="@{/filmes/{id}(id=${filme.id})}">
                                    <button class="botao-acao botao-detalhes">Detalhes</button>
                                </a>

                                <a th:href="@{/edit-filme(id=${filme.id})}">
                                    <button class="botao-acao botao-editar">Editar</button>
                                </a>

                                <a th:href="@{/deletar-filme(id=${filme.id})}" onclick="return confirm('Tem certeza que deseja excluir este filme?');">
                                    <button class="botao-acao botao-excluir">Excluir</button>
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>


        </div>

    </body>

</html>
